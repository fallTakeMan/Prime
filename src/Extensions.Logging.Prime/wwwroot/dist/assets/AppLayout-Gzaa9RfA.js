import{u as T,S as E,_ as B,U as F,s as R}from"./UserService-Br03i9W0.js";import{_ as U,c as n,a as N,b as t,o as s,u as V,r as _,d as q,w as O,e as M,f,g as C,t as A,n as g,h as $,i as I,F as w,j as P,v as H,T as j,k as v,l as W,m as z,s as G,p as J,q as h,x as Q}from"./index-BFdu6KXE.js";import{s as X}from"./index-WuoUu3WJ.js";import"./index-DKgpYIyM.js";import"./index-DkzOocRH.js";import"./request-C3Z5VieV.js";const Y={},Z={class:"layout-footer"};function ee(e,r){return s(),n("div",Z,r[0]||(r[0]=[N(" PrimeLogger by "),t("a",{href:"https://primevue.org",target:"_blank",rel:"noopener noreferrer",class:"text-primary font-bold hover:underline"},"PrimeVue",-1),N(" with theme "),t("a",{href:"https://sakai.primevue.org",target:"_blank",rel:"noopener noreferrer",class:"text-primary font-bold hover:underline"},"SAKAI",-1)]))}const te=U(Y,[["render",ee]]),oe={key:0,class:"layout-menuitem-root-text"},se=["href","target"],ie={class:"layout-menuitem-text"},ae={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},ne={class:"layout-menuitem-text"},le={key:0,class:"pi pi-fw pi-angle-down layout-submenu-toggler"},ue={class:"layout-submenu"},re={__name:"AppMenuItem",props:{item:{type:Object,default:()=>({})},index:{type:Number,default:0},root:{type:Boolean,default:!0},parentItemKey:{type:String,default:null}},setup(e){const r=V(),{layoutState:l,setActiveMenuItem:y,toggleMenu:u}=T(),d=e,p=_(!1),m=_(null);q(()=>{m.value=d.parentItemKey?d.parentItemKey+"-"+d.index:String(d.index);const i=l.activeMenuItem;p.value=i===m.value||i?i.startsWith(m.value+"-"):!1}),O(()=>l.activeMenuItem,i=>{p.value=i===m.value||i.startsWith(m.value+"-")});function k(i,a){if(a.disabled){i.preventDefault();return}(a.to||a.url)&&(l.staticMenuMobileActive||l.overlayMenuActive)&&u(),a.command&&a.command({originalEvent:i,item:a});const b=a.items?p.value?d.parentItemKey:m:m.value;y(b)}function c(i){return r.path===i.to}return(i,a)=>{const b=M("router-link"),x=M("app-menu-item",!0);return s(),n("li",{class:g({"layout-root-menuitem":e.root,"active-menuitem":p.value})},[e.root&&e.item.visible!==!1?(s(),n("div",oe,A(e.item.label),1)):f("",!0),(!e.item.to||e.item.items)&&e.item.visible!==!1?(s(),n("a",{key:1,href:e.item.url,onClick:a[0]||(a[0]=o=>k(o,e.item,e.index)),class:g(e.item.class),target:e.item.target,tabindex:"0"},[t("i",{class:g([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",ie,A(e.item.label),1),e.item.items?(s(),n("i",ae)):f("",!0)],10,se)):f("",!0),e.item.to&&!e.item.items&&e.item.visible!==!1?(s(),C(b,{key:2,onClick:a[1]||(a[1]=o=>k(o,e.item,e.index)),class:g([e.item.class,{"active-route":c(e.item)}]),tabindex:"0",to:e.item.to},{default:$(()=>[t("i",{class:g([e.item.icon,"layout-menuitem-icon"])},null,2),t("span",ne,A(e.item.label),1),e.item.items?(s(),n("i",le)):f("",!0)]),_:1},8,["class","to"])):f("",!0),e.item.items&&e.item.visible!==!1?(s(),C(j,{key:3,name:"layout-submenu"},{default:$(()=>[I(t("ul",ue,[(s(!0),n(w,null,P(e.item.items,(o,S)=>(s(),C(x,{key:o,index:S,item:o,parentItemKey:m.value,root:!1},null,8,["index","item","parentItemKey"]))),128))],512),[[H,e.root?!0:p.value]])]),_:1})):f("",!0)],2)}}},ce={class:"layout-menu"},me={key:1,class:"menu-separator"},de={__name:"AppMenu",setup(e){const r=_([{label:"Home",items:[{label:"Dashboard",icon:"pi pi-fw pi-home",to:"/"}]},{label:"Logs",items:[{label:"ApplicationLogs",icon:"pi pi-fw pi-code",to:"/logs/application"},{label:"HttpLogs",icon:"pi pi-fw pi-wave-pulse",to:"/logs/http",class:"rotated-icon"},{label:"ExceptionLogs",icon:"pi pi-fw pi-exclamation-circle",to:"/logs/exception"},{label:"AuditLogs",icon:"pi pi-fw pi-database",to:"/logs/audit"}]}]);return(l,y)=>(s(),n("ul",ce,[(s(!0),n(w,null,P(r.value,(u,d)=>(s(),n(w,{key:u},[u.separator?f("",!0):(s(),C(re,{key:0,item:u,index:d},null,8,["item","index"])),u.separator?(s(),n("li",me)):f("",!0)],64))),128))]))}},pe={class:"layout-sidebar"},ve={__name:"AppSidebar",setup(e){return(r,l)=>(s(),n("div",pe,[v(de)]))}},fe={class:"layout-topbar"},ye={class:"layout-topbar-logo-container"},be={class:"layout-topbar-actions"},ge={class:"layout-config-menu"},ke={class:"relative"},he={type:"button",class:"layout-topbar-action layout-topbar-action-highlight"},_e={class:"layout-topbar-menu-button layout-topbar-action"},xe={class:"layout-topbar-menu hidden lg:block"},Ce={class:"layout-topbar-menu-content"},Ae={class:"flex flex-col gap-4"},Me={class:"list-none p-0 m-0 flex flex-col"},$e={key:1,class:"flex items-center gap-2 px-2 py-3 rounded-border"},we={class:"font-medium"},Se={class:"list-none p-0 m-0 flex flex-col"},Le={__name:"AppTopbar",setup(e){const{toggleMenu:r,toggleDarkMode:l,isDarkTheme:y}=T(),u=_(),d=W(),p=_(),m=z(),{isAuthenticated:k,basicToken:c}=G(m),i=x=>{p.value.toggle(x)},a=()=>{k.value=!1,c.value=null,d.push({name:"login"})},b=()=>{u.value=F.getUser(c.value)};return J(()=>{b()}),(x,o)=>{const S=M("router-link"),D=X,K=E;return s(),n("div",fe,[t("div",ye,[t("button",{class:"layout-menu-button layout-topbar-action",onClick:o[0]||(o[0]=(...L)=>h(r)&&h(r)(...L))},o[2]||(o[2]=[t("i",{class:"pi pi-bars"},null,-1)])),v(S,{to:"/",class:"layout-topbar-logo"},{default:$(()=>o[3]||(o[3]=[t("span",null,"PrimeLogger",-1)])),_:1})]),t("div",be,[t("div",ge,[t("button",{type:"button",class:"layout-topbar-action",onClick:o[1]||(o[1]=(...L)=>h(l)&&h(l)(...L))},[t("i",{class:g(["pi",{"pi-moon":h(y),"pi-sun":!h(y)}])},null,2)]),t("div",ke,[I((s(),n("button",he,o[4]||(o[4]=[t("i",{class:"pi pi-palette"},null,-1)]))),[[K,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-scalein",leaveToClass:"hidden",leaveActiveClass:"animate-fadeout",hideOnOutsideClick:!0}]]),v(B)])]),I((s(),n("button",_e,o[5]||(o[5]=[t("i",{class:"pi pi-ellipsis-v"},null,-1)]))),[[K,{selector:"@next",enterFromClass:"hidden",enterActiveClass:"animate-scalein",leaveToClass:"hidden",leaveActiveClass:"animate-fadeout",hideOnOutsideClick:!0}]]),t("div",xe,[t("div",Ce,[t("button",{type:"button",class:"layout-topbar-action",onClick:i},o[6]||(o[6]=[t("i",{class:"pi pi-user"},null,-1),t("span",null,"Profile",-1)])),v(D,{ref_key:"profilePop",ref:p},{default:$(()=>[t("div",Ae,[t("ul",Me,[(s(),n("li",$e,[o[7]||(o[7]=t("i",{class:"pi pi-user"},null,-1)),t("div",null,[t("span",we,A(u.value),1)])]))]),t("ul",Se,[(s(),n("li",{key:2,class:"flex items-center gap-2 px-2 py-3 hover:bg-emphasis cursor-pointer rounded-border",onClick:a},o[8]||(o[8]=[t("i",{class:"pi pi-sign-out"},null,-1),t("div",null,[t("span",{class:"font-medium"},"Logout")],-1)])))])])]),_:1},512)])])])])}}},Ie={class:"layout-main-container"},Te={class:"layout-main"},Be={__name:"AppLayout",setup(e){const{layoutConfig:r,layoutState:l,isSidebarActive:y}=T(),u=_(null);O(y,c=>{c?p():m()});const d=Q(()=>({"layout-overlay":r.menuMode==="overlay","layout-static":r.menuMode==="static","layout-static-inactive":l.staticMenuDesktopInactive&&r.menuMode==="static","layout-overlay-active":l.overlayMenuActive,"layout-mobile-active":l.staticMenuMobileActive}));function p(){u.value||(u.value=c=>{k(c)&&(l.overlayMenuActive=!1,l.staticMenuMobileActive=!1,l.menuHoverActive=!1)},document.addEventListener("click",u.value))}function m(){u.value&&(document.removeEventListener("click",u),u.value=null)}function k(c){const i=document.querySelector(".layout-sidebar"),a=document.querySelector(".layout-menu-button");return!(i.isSameNode(c.target)||i.contains(c.target)||a.isSameNode(c.target)||a.contains(c.target))}return(c,i)=>{const a=M("router-view"),b=R;return s(),n(w,null,[t("div",{class:g(["layout-wrapper",d.value])},[v(Le),v(ve),t("div",Ie,[t("div",Te,[v(a)]),v(te)]),i[0]||(i[0]=t("div",{class:"layout-mask animate-fadein"},null,-1))],2),v(b)],64)}}};export{Be as default};
